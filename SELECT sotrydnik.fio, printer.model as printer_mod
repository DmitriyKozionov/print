SELECT sotrydnik.fio, printer.model as printer_model, printer.inv as inv_number, kartridj.id as kartridj_id, kartridj.model, REMONT.vidrab FROM sotrydnik
LEFT JOIN printer 
ON printer.idsotr = sotrydnik.id
LEFT JOIN print_link_kart 
ON printer.ID = print_link_kart.id_print
LEFT JOIN kartridj
ON print_link_kart.id_kart = kartridj.id
RIGHT JOIN 
    (
        SELECT remkartr.idkart, remkartr.idrabot, vidrab.name as vidrab FROM remkartr        
        LEFT JOIN
        vidrab 
        ON vidrab.id = remkartr.idrabot
        WHERE remkartr.data = ''
    ) AS REMONT

ON  REMONT.idkart = print_link_kart.id_kart




   WHERE remkartr.data BETWEEN '2016-04-10' AND '2019-03-12'
   <?php
SELECT sotrydnik.fio, printer.model as printer_model, printer.inv as inv_number, kartridj.id as kartridj_id, kartridj.model, REMONT.vidrab, REMONT.data FROM sotrydnik
LEFT JOIN printer 
ON printer.idsotr = sotrydnik.id
LEFT JOIN print_link_kart 
ON printer.ID = print_link_kart.id_print
LEFT JOIN kartridj
ON print_link_kart.id_kart = kartridj.id
RIGHT JOIN 
    (
        SELECT remkartr.idkart, remkartr.idrabot, vidrab.name as vidrab, remkartr.data FROM remkartr        
        LEFT JOIN
        vidrab 
        ON vidrab.id = remkartr.idrabot
           WHERE remkartr.data BETWEEN '2016-04-10' AND '2019-03-12'
    ) AS REMONT

ON  REMONT.idkart = print_link_kart.id_kart
   
   ?>













   <?php

$result = mysql_query("SELECT sotrydnik.fio, printer.model as printer_model, printer.inv as inv_number, kartridj.id as kartridj_id, kartridj.model, REMONT.vidrab, REMONT.data FROM sotrydnik
LEFT JOIN printer 
ON printer.idsotr = sotrydnik.id
LEFT JOIN print_link_kart 
ON printer.ID = print_link_kart.id_print
LEFT JOIN kartridj
ON print_link_kart.id_kart = kartridj.id
RIGHT JOIN 
    (
        SELECT remkartr.idkart, remkartr.idrabot, vidrab.name as vidrab, remkartr.data FROM remkartr        
        LEFT JOIN
        vidrab 
        ON vidrab.id = remkartr.idrabot

           WHERE remkartr.data BETWEEN '$data1' AND '$data2'
           
    ) AS REMONT

ON  REMONT.idkart = print_link_kart.id_kart");

while ($row = mysql_fetch_assoc($result))














("SELECT credit_text as text, (-amount) as amount, 
    DATE_FORMAT (date_is, '%d.%m.%Y; %H:%i') AS `date_is`,
    (SELECT item_name FROM credit_items ci WHERE ci.credit_item_id = cr.credit_item_id )credit_item_id 
    FROM credit cr
    
  
     WHERE DATE_FORMAT (cr.date_is, '%Y-%m-%d') BETWEEN STR_TO_DATE('$date_start', '%Y-%m-%d') 
     AND STR_TO_DATE('$date_end', '%Y-%m-%d')

    union all
    
    SELECT debet_text as text, amount, 
    DATE_FORMAT (date_is, '%d.%m.%Y; %H:%i') AS `date_is`,  
    (SELECT item_name FROM debet_items di WHERE di.debet_item_id = dt.debet_item_id ) debet_item_id 
    FROM debet dt
    
    
    WHERE DATE_FORMAT (dt.date_is, '%Y-%m-%d') BETWEEN STR_TO_DATE('$date_start', '%Y-%m-%d') 
    AND STR_TO_DATE('$date_end', '%Y-%m-%d')




    <?php

$result = mysql_query("SELECT sotrydnik.fio, printer.model as printer_model, printer.inv as inv_number, kartridj.id as kartridj_id, kartridj.model, REMONT.vidrab, REMONT.data FROM sotrydnik
LEFT JOIN printer 
ON printer.idsotr = sotrydnik.id
LEFT JOIN print_link_kart 
ON printer.ID = print_link_kart.id_print
LEFT JOIN kartridj
ON print_link_kart.id_kart = kartridj.id
RIGHT JOIN 
    (
        SELECT remkartr.idkart, remkartr.idrabot, vidrab.name  as vidrab, remkartr.data FROM remkartr        
        LEFT JOIN
        vidrab 
        ON vidrab.id = remkartr.idrabot
        ) AS REMONT

ON  REMONT.idkart = print_link_kart.id_kart 

WHERE remkartr.data BETWEEN '$data1' AND '$data2'

Union 

SELECT sotrydnik.fio, printer.model as printer_model, printer.inv as inv_number, kartridj.id as kartridj_id, kartridj.model, REMONT.vidrab, REMONT.data FROM sotrydnik
LEFT JOIN printer 
ON printer.idsotr = sotrydnik.id
LEFT JOIN print_link_kart 
ON printer.ID = print_link_kart.id_print
LEFT JOIN kartridj
ON print_link_kart.id_kart = kartridj.id
RIGHT JOIN 
    (
        SELECT remprint.idprint, remprint.idrabot, vidrab.name  as vidrab, remprint.data FROM remprint        
        LEFT JOIN
        vidrab 
        ON vidrab.id = remprint.idrabot

  WHERE remkartr.data BETWEEN '$data1' AND '$data2'      
           
    ) AS REMONT

ON  REMONT.idprint = print_link_kart.id_print

");